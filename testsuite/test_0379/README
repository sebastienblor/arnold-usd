[IPR] Support parenting / unparenting in IPR

See trac #4110 #3348 #3838

author: sebastien.ortega
